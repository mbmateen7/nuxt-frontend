(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{497:function(t,e,r){"use strict";r.r(e);r(25),r(11),r(37),r(38),r(461),r(350);var o={layout:"profile",data:function(){return{name:this.$auth.user.name,old_password:"",new_password:"",confirm_password:"",image:this.$auth.user.image,errors:{name:"",old_password:"",new_password:"",confirm_password:"",image:""}}},computed:{form:function(){var form=new FormData;return form.append("name",this.name),form.append("old_password",this.old_password),form.append("new_password",this.new_password),form.append("confirm_password",this.confirm_password),form.append("image",this.$refs.image.files[0]||null),form}},watch:{image:function(){this.form.set("image",this.$refs.image.files[0])}},methods:{imagePreview:function(t){var e=t.target.files[0];this.image=URL.createObjectURL(e)},updateProfile:function(){var t=this;this.validateForm()&&this.$repositories.auth.updateProfile(this.form).then((function(t){})).catch((function(e){t.errors.old_password=e.message[0]}))},validateForm:function(){var t=!0;return this.name.length?this.errors.name="":(this.errors.name="Name is required",t=!1),this.old_password.length||this.new_password.length||this.confirm_password.length?(this.old_password.length?this.errors.old_password="":(this.errors.old_password="Old password is required",t=!1),this.new_password.length?this.errors.new_password="":(this.errors.new_password="Password is required",t=!1),this.confirm_password.length?this.errors.confirm_password="":(this.errors.confirm_password="Confirm Password is required",t=!1),this.new_password.length&&this.confirm_password.length&&this.new_password!=this.confirm_password&&(this.errors.confirm_password="Password does not match",t=!1)):(this.errors.old_password="",this.errors.new_password="",this.errors.confirm_password=""),t}}},n=r(12),component=Object(n.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card"},[r("div",{staticClass:"card-body"},[r("form",{staticClass:"inputs-box",on:{submit:function(e){return e.preventDefault(),t.updateProfile.apply(null,arguments)}}},[r("div",{staticClass:"row mb-4"},[r("div",{staticClass:"col-md-5"},[r("div",{staticClass:"input-style"},[r("label",{attrs:{for:""}},[t._v("Name")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"ctm-input",attrs:{type:"text",placeholder:"Name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),t._v(" "),r("span",{staticClass:"text text-danger small",class:{invisible:!t.errors.name.length}},[t._v(t._s(t.errors.name))])]),t._v(" "),r("div",{staticClass:"input-style"},[r("label",{attrs:{for:""}},[t._v("Old Password")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.old_password,expression:"old_password"}],staticClass:"ctm-input",attrs:{type:"password",placeholder:"Old Password"},domProps:{value:t.old_password},on:{input:function(e){e.target.composing||(t.old_password=e.target.value)}}}),t._v(" "),r("span",{staticClass:"text text-danger small",class:{invisible:!t.errors.old_password.length}},[t._v(t._s(t.errors.old_password))])]),t._v(" "),r("div",{staticClass:"input-style"},[r("label",{attrs:{for:""}},[t._v("New Password")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.new_password,expression:"new_password"}],staticClass:"ctm-input",attrs:{type:"password",placeholder:"New Password"},domProps:{value:t.new_password},on:{input:function(e){e.target.composing||(t.new_password=e.target.value)}}}),t._v(" "),r("span",{staticClass:"text text-danger small",class:{invisible:!t.errors.new_password.length}},[t._v(t._s(t.errors.new_password))])]),t._v(" "),r("div",{staticClass:"input-style"},[r("label",{attrs:{for:""}},[t._v("Confirm Password")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.confirm_password,expression:"confirm_password"}],staticClass:"ctm-input",attrs:{type:"password",placeholder:"Confirm Password"},domProps:{value:t.confirm_password},on:{input:function(e){e.target.composing||(t.confirm_password=e.target.value)}}}),t._v(" "),r("span",{staticClass:"text text-danger small",class:{invisible:!t.errors.confirm_password.length}},[t._v(t._s(t.errors.confirm_password))])])]),t._v(" "),r("div",{staticClass:"col-md-6"},[r("div",{staticClass:"qust-filed"},[r("h3",{staticClass:"upload-heading text-center"},[t._v("\n                            Profile Picture\n                        ")]),t._v(" "),r("label",{staticClass:"btn-tertiary js-labelFile d-flex align-items-center flex-column",attrs:{for:"choose-file-front"}},[r("div",{staticClass:"form-control py-2 d-flex align-items-center justify-content-center",style:{backgroundImage:"url("+t.image+")"}},[r("input",{ref:"image",staticClass:"input-file d-none",attrs:{type:"file",id:"choose-file-front"},on:{change:t.imagePreview}}),t._v(" "),r("div",{staticClass:"img-upload"},[t.image.length?t._e():r("img",{staticClass:"img-fluid",attrs:{src:"/license.svg",alt:"img"}})])])])])])]),t._v(" "),t._m(0)])])])}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-12"},[r("div",{staticClass:"btn-new-design"},[r("button",{staticClass:"get-started",attrs:{type:"submit"}},[t._v("Update")])])])])}],!1,null,null,null);e.default=component.exports}}]);