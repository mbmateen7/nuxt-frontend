(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{496:function(t,e,r){"use strict";r.r(e);r(33),r(30),r(32),r(11),r(45),r(29),r(46);var n=r(7),o=r(16),c=(r(24),r(48),r(36));function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var d={data:function(){return{email:"",password:"",emailError:"",passwordError:"",passwordType:"password",error:""}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(c.b)({product:"cart/getSelectedProduct"})),methods:{loginUser:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.checkForm()){e.next=2;break}return e.abrupt("return",!1);case 2:return t.error="",e.next=5,t.$auth.loginWith("local",{data:{email:t.email,password:t.password}}).then(function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t.product),!t.product){e.next=6;break}return e.next=4,t.$store.dispatch("cart/clear").then(Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("cart/updateStep",{step:1,name:"Color",title:"Select a color for your bike"}).then(Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("cart/addToCart",{product:t.product,key:"product",price:t.product.price}).then((function(){t.$router.push("/checkout/color")}));case 2:case"end":return e.stop()}}),e)})))).catch((function(t){console.log("error",t)}));case 2:case"end":return e.stop()}}),e)}))));case 4:e.next=7;break;case 6:t.$router.back();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t.error=e.message[0]}));case 5:case"end":return e.stop()}}),e)})))()},checkForm:function(){this.emailError=this.passwordError="";var t=!0;return this.email||(this.emailError="Email is required",t=!1),this.email&&!/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(this.email)&&(this.emailError="Please enter a valid email address",t=!1),this.password||(this.passwordError="Password is required",t=!1),t},showHidePassword:function(){"text"==this.passwordType?this.passwordType="password":this.passwordType="text"}}},m=d,v=r(12),component=Object(v.a)(m,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"cards-login"},[r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-12"},[r("div",{staticClass:"box-card"},[t._m(0),t._v(" "),r("div",{staticClass:"right-login-box"},[r("div",{staticClass:"lost"},[r("p",{staticClass:"lost-p"},[r("span",[t._v("Create New account")]),t._v(" "),r("NuxtLink",{attrs:{to:"/signup"}},[t._v("Click Here")])],1)]),t._v(" "),r("h1",{staticClass:"log-heading"},[t._v("Log In")]),t._v(" "),r("p",{staticClass:"login-text"},[t._v("Login to your account to buy your bike now.")]),t._v(" "),r("div",{staticClass:"inputs-box"},[r("form",{on:{submit:function(e){return e.preventDefault(),t.loginUser.apply(null,arguments)}}},[t.error.length?r("div",{staticClass:"alert alert-danger"},[t._v(t._s(t.error))]):t._e(),t._v(" "),r("div",{staticClass:"input-style  mb-2"},[t._m(1),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"ctm-input",attrs:{type:"email",placeholder:"Email ID"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),t.emailError?r("span",{staticClass:"text text-danger small"},[t._v(t._s(t.emailError))]):t._e()]),t._v(" "),r("div",{staticClass:"input-style"},[t._m(2),t._v(" "),r("div",{staticClass:"type-pass"},["checkbox"===t.passwordType?r("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"ctm-input",attrs:{placeholder:"Password",type:"checkbox"},domProps:{checked:Array.isArray(t.password)?t._i(t.password,null)>-1:t.password},on:{change:function(e){var r=t.password,n=e.target,o=!!n.checked;if(Array.isArray(r)){var c=t._i(r,null);n.checked?c<0&&(t.password=r.concat([null])):c>-1&&(t.password=r.slice(0,c).concat(r.slice(c+1)))}else t.password=o}}}):"radio"===t.passwordType?r("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"ctm-input",attrs:{placeholder:"Password",type:"radio"},domProps:{checked:t._q(t.password,null)},on:{change:function(e){t.password=null}}}):r("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"ctm-input",attrs:{placeholder:"Password",type:t.passwordType},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),r("div",{staticClass:"icon-eye d-flex align-items-center justify-content-center"},[r("img",{attrs:{src:"/Icon feather-eye.svg",alt:"img"},on:{click:function(e){return t.showHidePassword()}}})])]),t._v(" "),t.passwordError?r("span",{staticClass:"text text-danger small"},[t._v(t._s(t.passwordError))]):t._e()]),t._v(" "),t._m(3)])])])])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"left-img"},[e("img",{staticClass:"img-fluid",attrs:{src:"/login.png",alt:"img"}})])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("label",{staticClass:"d-block"},[t._v("Email"),r("span",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("label",{staticClass:"d-block"},[t._v("Password"),r("span",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"d-flex align-items-center justify-content-end mt-4"},[e("input",{staticClass:"login-p",attrs:{type:"submit",value:"Log In"}})])}],!1,null,null,null);e.default=component.exports}}]);