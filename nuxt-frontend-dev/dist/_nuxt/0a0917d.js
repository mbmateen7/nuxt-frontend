(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{499:function(e,t,r){"use strict";r.r(t);r(33),r(30),r(32),r(11),r(45),r(29),r(46);var n=r(7),o=r(16),c=(r(25),r(24),r(48),r(36));function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var m={data:function(){return{register:{name:"",email:"",password:"",password_confirmation:""},errors:{name:"",email:"",password:"",password_confirmation:""},responseError:""}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(c.b)({product:"cart/getSelectedProduct"})),methods:{registerUser:function(){var e=this;if(!this.checkForm())return!1;this.responseError="",this.$repositories.auth.register(this.register).then((function(){e.$auth.loginWith("local",{data:{email:e.register.email,password:e.register.password}}).then(function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.product){t.next=5;break}return t.next=3,e.$store.dispatch("cart/clear").then(Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("cart/updateStep",{step:1,name:"Color",title:"Select a color for your bike"}).then(Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("cart/addToCart",{product:e.product,key:"product",price:e.product.price}).then((function(){e.$router.push("/checkout/color")}));case 2:case"end":return t.stop()}}),t)})))).catch((function(e){console.log("error",e)}));case 2:case"end":return t.stop()}}),t)}))));case 3:t.next=6;break;case 5:e.$router.push("/");case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.log("Login Error => ",e.message)}))})).catch((function(t){e.responseError=t.message[0],console.log("Registers Error => ",t.message)}))},checkForm:function(){var e=!0;return this.errors={name:"",email:"",password:"",password_confirmation:""},this.register.name||(this.errors.name="Name is required",e=!1),this.register.name&&this.register.name.length<3&&(this.errors.name="Name must be of atleast 3 characters",e=!1),this.register.email||(this.errors.email="Email address is required",e=!1),this.register.email&&(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(this.register.email)||(this.errors.email="Please enter a valid email address",e=!1)),this.register.password||(this.errors.password="Password is required",e=!1),this.register.password_confirmation||(this.errors.password_confirmation="Confirm Password is required",e=!1),this.register.password&&this.register.password_confirmation&&this.register.password!==this.register.password_confirmation&&(this.errors.password_confirmation="Password doesn't match",e=!1),e}}},d=m,v=r(12),component=Object(v.a)(d,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"cards-login"},[r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-12"},[r("div",{staticClass:"box-card"},[e._m(0),e._v(" "),r("div",{staticClass:"right-login-box right-login-box-2"},[r("div",{staticClass:"lost"},[r("p",{staticClass:"lost-p"},[r("span",[e._v("Already have an account?")]),e._v(" "),r("NuxtLink",{attrs:{to:"/login"}},[e._v("Click Here")])],1)]),e._v(" "),r("h1",{staticClass:"log-heading"},[e._v("Sign Up")]),e._v(" "),r("p",{staticClass:"login-text login-text-2"},[e._v("Sign Up for a Scooter Mart account")]),e._v(" "),r("div",{staticClass:"inputs-box"},[e.responseError.length?r("div",{staticClass:"alert alert-danger"},[e._v(e._s(e.responseError))]):e._e(),e._v(" "),r("form",{on:{submit:function(t){return t.preventDefault(),e.registerUser.apply(null,arguments)}}},[r("div",{staticClass:"input-style  mb-2"},[e._m(1),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.register.name,expression:"register.name"}],staticClass:"ctm-input",attrs:{type:"text",placeholder:"Enter your name"},domProps:{value:e.register.name},on:{input:function(t){t.target.composing||e.$set(e.register,"name",t.target.value)}}}),e._v(" "),e.errors.name?r("span",{staticClass:"text text-danger small"},[e._v(e._s(e.errors.name))]):e._e()]),e._v(" "),r("div",{staticClass:"input-style  mb-2"},[e._m(2),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.register.email,expression:"register.email"}],staticClass:"ctm-input",attrs:{type:"email",placeholder:"Enter your email address"},domProps:{value:e.register.email},on:{input:function(t){t.target.composing||e.$set(e.register,"email",t.target.value)}}}),e._v(" "),e.errors.email?r("span",{staticClass:"text text-danger small"},[e._v(e._s(e.errors.email))]):e._e()]),e._v(" "),r("div",{staticClass:"input-style mb-2"},[e._m(3),e._v(" "),r("div",{staticClass:"type-pass"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.register.password,expression:"register.password"}],staticClass:"ctm-input",attrs:{type:"password",placeholder:"Enter your password"},domProps:{value:e.register.password},on:{input:function(t){t.target.composing||e.$set(e.register,"password",t.target.value)}}}),e._v(" "),e._m(4)]),e._v(" "),e.errors.password?r("span",{staticClass:"text text-danger small"},[e._v(e._s(e.errors.password))]):e._e()]),e._v(" "),r("div",{staticClass:"input-style mb-2"},[e._m(5),e._v(" "),r("div",{staticClass:"type-pass"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.register.password_confirmation,expression:"register.password_confirmation"}],staticClass:"ctm-input",attrs:{type:"password",placeholder:"Re-enter your password"},domProps:{value:e.register.password_confirmation},on:{input:function(t){t.target.composing||e.$set(e.register,"password_confirmation",t.target.value)}}}),e._v(" "),e._m(6)]),e._v(" "),e.errors.password_confirmation?r("span",{staticClass:"text text-danger small"},[e._v(e._s(e.errors.password_confirmation))]):e._e()]),e._v(" "),e._m(7)])])])])])])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"left-img"},[t("img",{staticClass:"img-fluid",attrs:{src:"login.png",alt:"img"}})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("label",{staticClass:"d-block"},[e._v("Name"),r("span",{staticClass:"text-danger"},[e._v("*")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("label",{staticClass:"d-block"},[e._v("Email"),r("span",{staticClass:"text-danger"},[e._v("*")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("label",{staticClass:"d-block"},[e._v("Password"),r("span",{staticClass:"text-danger"},[e._v("*")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"icon-eye d-flex align-items-center justify-content-center"},[t("img",{attrs:{src:"Icon feather-eye.svg",alt:"img"}})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("label",{staticClass:"d-block"},[e._v("Re-enter password"),r("span",{staticClass:"text-danger"},[e._v("*")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"icon-eye d-flex align-items-center justify-content-center"},[t("img",{attrs:{src:"Icon feather-eye.svg",alt:"img"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"d-flex align-items-center justify-content-end"},[t("input",{staticClass:"login-p",attrs:{type:"submit",value:"Sign Up"}})])}],!1,null,null,null);t.default=component.exports}}]);