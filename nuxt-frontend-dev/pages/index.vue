<template>
    <div>
        <section class="banner-scooter">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-md-12">
                        <div class="baaner-main-box">
                            <h1 class="heading-baaner"> <span>Bermudaâ€™s #1</span> Motorcycle <br> And Scooter Dealer </h1>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <div class="baaner-flex">
                            <div class="img-rating">
                                <img class="img-fluid" src="/review.svg" alt="img">
                            </div>
                            <div class="img-scooter">
                                <img class="img-fluid" src="/banner-scooter.png" alt="img">
                            </div>
                            <div class="banner-info-box">
                                <h2 class="baaner-info-text">We have served over <span>10,000</span> happy customers!</h2>
                                <div class="best-of">
                                    <img class="img-fluid" src="/awards.png" alt="img">
                                </div>
                            </div>
                        </div>
                    </div>


                </div>
            </div>
        </section>
        <section class="find-bike">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-md-12">
                        <div class="main-heading-box-sec">
                            <h1 class="main-heading-sec">
                                Find the right bike for you!
                            </h1>
                            <p class="afford-text-sec"></p>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <div class="find-flex-card">
                            <div class="find-card">
                                <div class="card-banner-img">
                                    <div class="find-info-box">
                                        <h3 class="rext-info black-color-ctm">BUY</h3>
                                        <div class="bike-find-text-box">
                                            <p class="text-find black-color-ctm">Your dream bike is waiting for you!</p>
                                        </div>

                                        <NuxtLink to="/buy-new" class="rent-btn">BUY A BIKE</NuxtLink>
                                    </div>
                                    <div class="find-bike-img">
                                         <img class="img-fluid" src="/find-bike-right.png" alt="img">
                                        <!-- <img class="img-fluid" src="/find-bike.png" alt="img"> -->
                                    </div>
                                </div>
                            </div>
                            <div class="find-card center-card">
                                <div class="card-banner-img card-banner-img-center">
                                    <div class="find-info-box">
                                        <h3 class="rext-info">SELL</h3>
                                        <div class="bike-find-text-box">
                                            <p class="text-find">Save the hassle! Get a cash offer in minutes by selling your used bike to ScooterMart!</p>
                                        </div>

                                        <!-- <a href="http://elbowbeachcycles.bm/" class="rent-btn" target="_blank">RENT A BIKE</a> -->
                                         <NuxtLink to="/sell" class="rent-btn">SELL YOUR BIKE</NuxtLink>
                                    </div>
                                    <div class="find-bike-img center">
                                        <img class="img-fluid" src="/find-center.png" alt="img">
                                    </div>
                                </div>
                            </div>
                            <div class="find-card">
                                <div class="card-banner-img ">
                                    <div class="find-info-box">
                                        <h3 class="rext-info black-color-ctm">RENT</h3>
                                        <div class="bike-find-text-box">
                                            <p class="text-find black-color-ctm">Rent premium scooters, mopeds and electric bicycles!</p>
                                        </div>
                                        <a href="http://elbowbeachcycles.bm/" class="rent-btn" target="_blank">RENT A BIKE</a>

                                        <!-- <NuxtLink to="/sell" class="rent-btn">SELL YOUR BIKE</NuxtLink> -->
                                    </div>
                                    <div class="find-bike-img right-side">
                                        <!-- <img class="img-fluid" src="/find-bike-right.png" alt="img"> -->
                                        <img class="img-fluid" src="/find-bike.png" alt="img">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </section>
        <section class="brands">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-md-12">
                        <div class="main-heading-box-sec">
                            <h1 class="main-heading-sec">
                                Brands We Carry
                            </h1>
                            <p class="afford-text-sec"></p>
                        </div>

                        <div class="brands-cards">
                            <a href="javascript:void(0)" class="brand-cardhover">
                                <div class="brand-card">
                                    <div class="brand-card-img">
                                        <img class="img-fluid" src="/honda.png" alt="img">
                                    </div>
                                    <div class="brand-heading">
                                        <h4 class="brand-text">Honda</h4>
                                    </div>
                                </div>
                            </a>
                            <a href="javascript:void(0)" class="brand-cardhover">
                                <div class="brand-card">
                                    <div class="brand-card-img">
                                        <img class="img-fluid" src="/yamaha.png" alt="img">
                                    </div>
                                    <div class="brand-heading">
                                        <h4 class="brand-text">Yamaha</h4>
                                    </div>
                                </div>
                            </a>
                            <a href="javascript:void(0)" class="brand-cardhover">
                                <div class="brand-card">
                                    <div class="brand-card-img">
                                        <img class="img-fluid" src="/niu.png" alt="img">
                                    </div>
                                    <div class="brand-heading">
                                        <h4 class="brand-text">NIU</h4>
                                    </div>
                                </div>
                            </a>
                            <a href="javascript:void(0)" class="brand-cardhover">
                                <div class="brand-card">
                                    <div class="brand-card-img">
                                        <img class="img-fluid" src="/vespa.png" alt="img">
                                    </div>
                                    <div class="brand-heading">
                                        <h4 class="brand-text">Vespa</h4>
                                    </div>
                                </div>
                            </a>
                            <a href="javascript:void(0)" class="brand-cardhover">
                                <div class="brand-card">
                                    <div class="brand-card-img">
                                        <img class="img-fluid" src="/piaggio.png" alt="img">
                                    </div>
                                    <div class="brand-heading">
                                        <h4 class="brand-text">Piaggio</h4>
                                    </div>
                                </div>
                            </a>
                            <a href="javascript:void(0)" class="brand-cardhover">
                                <div class="brand-card">
                                    <div class="brand-card-img">
                                        <img class="img-fluid" src="/suzuki.png" alt="img">
                                    </div>
                                    <div class="brand-heading">
                                        <h4 class="brand-text">Suzuki</h4>
                                    </div>
                                </div>
                            </a>
                        </div>
                        <VueSlickCarousel class="category-slider" v-bind="slickSettings">
                            <a href="javascript:void(0)" class="brand-cardhover">
                                <div class="brand-card">
                                    <div class="brand-card-img">
                                        <img class="img-fluid" src="/honda.png" alt="img">
                                    </div>
                                    <div class="brand-heading">
                                        <h4 class="brand-text">Honda</h4>
                                    </div>
                                </div>
                            </a>
                            <a href="javascript:void(0)" class="brand-cardhover">
                                <div class="brand-card">
                                    <div class="brand-card-img">
                                        <img class="img-fluid" src="/yamaha.png" alt="img">
                                    </div>
                                    <div class="brand-heading">
                                        <h4 class="brand-text">Yamaha</h4>
                                    </div>
                                </div>
                            </a>
                            <a href="javascript:void(0)" class="brand-cardhover">
                                <div class="brand-card">
                                    <div class="brand-card-img">
                                        <img class="img-fluid" src="/suzuki.png" alt="img">
                                    </div>
                                    <div class="brand-heading">
                                        <h4 class="brand-text">Suzuki</h4>
                                    </div>
                                </div>
                            </a>
                            <a href="javascript:void(0)" class="brand-cardhover">
                                <div class="brand-card">
                                    <div class="brand-card-img">
                                        <img class="img-fluid" src="/vespa.png" alt="img">
                                    </div>
                                    <div class="brand-heading">
                                        <h4 class="brand-text">Vespa</h4>
                                    </div>
                                </div>
                            </a>
                            <a href="javascript:void(0)" class="brand-cardhover">
                                <div class="brand-card">
                                    <div class="brand-card-img">
                                        <img class="img-fluid" src="/piaggio.png" alt="img">
                                    </div>
                                    <div class="brand-heading">
                                        <h4 class="brand-text">Piaggio</h4>
                                    </div>
                                </div>
                            </a>
                        </VueSlickCarousel>
                        <!-- <div class="view-more-box d-flex align-items-center justify-content-center">
                            <a class="view-more-btn" href="javascript:void(0)">See All</a>
                        </div> -->
                    </div>
                </div>
            </div>
        </section>
        <section class="stocks-section">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-md-12">
                        <div class="main-heading-box-sec">
                            <h1 class="main-heading-sec">
                                In Stock Bikes
                            </h1>
                            <!-- <p class="afford-text-sec">Premium brands at affordable prices</p> -->
                             <p class="afford-text-sec">Premium brands at Bermudaâ€™s best prices!</p>
                        </div>
                        <div class="stockes-cards">
                            <NuxtLink :to="`/product/bike/${p.id}`" class="card-accessories-main card-product  card-product-home" v-for="p in products" :key="p.id">
                                <div class="helmet-top">
                                    <div class="helmet-img">
                                        <img class="img-fluid" :src="featuredVariationImage(p)" alt="img">
                                    </div>
                                    <div class="radio-color-box">
                                        <div class="outer-line mx-2" v-for="v in p.variations" :key="v.id">
                                            <div class="inner-background" @click="currentVariation=v" :style="{ backgroundColor : v.code }"></div>
                                        </div>
                                    </div>

                                </div>

                                <div class="helmet-card-body">
                                    <div class="card-body-accessories-heading">
                                        <div class="shine-upper">
                                            <h2 class="headingsecond">{{ p.title }}</h2>
                                        </div>

                                    </div>
                                    <div class="d-flex justify-content-between align-items-center">
                                        <div class="align-left">
                                            <h4 class="heading-product-secondary">Price: <span> {{ p.price | currencyFormat }} </span> </h4>
                                        </div>
                                        <!-- <div class="buynow-cart">
                                            <a class="buy-now-btn-cart" href="javascript:void(0)">
                                                <i class="fa fa-shopping-cart" aria-hidden="true"></i>
                                            </a>
                                        </div> -->
                                    </div>

                                </div>
                            </NuxtLink>
                        </div>
                        <div class="view-more-box d-flex align-items-center justify-content-center">
                            <NuxtLink to="/buy-new" class="view-more-btn">Show All</NuxtLink>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section>
            <GetInTouch />
        </section>
    </div>
</template>

<script lang="ts">
    import Vue from "vue";
    import VueSlickCarousel from 'vue-slick-carousel'
    import 'vue-slick-carousel/dist/vue-slick-carousel.css'
    // optional style for arrows & dots
    import 'vue-slick-carousel/dist/vue-slick-carousel-theme.css'

    export default Vue.extend({
        name: "IndexPage",
        components: {
            VueSlickCarousel
        },
        mounted() {
            this.getProducts();
        },
        data() {
            return {
                products: [],
                slickSettings: {
                    slidesToShow: 4,
                    slidesToScroll: 1,
                    autoplay: true,
                    autoplaySpeed: 2000,
                    arrow: false,
                    // centerMode: true,
                    // variableWidth: true,
                    centerPadding: '0px',
                    dots: false,
                    responsive: [{
                            breakpoint: 1450,
                            settings: {
                                slidesToShow: 4,
                                slidesToScroll: 1,
                                infinite: true,

                            }
                        }, {
                            breakpoint: 1200,
                            settings: {
                                slidesToShow: 4,
                                slidesToScroll: 1,
                                infinite: true,

                            }
                        }, {
                            breakpoint: 991,
                            settings: {
                                slidesToShow: 4,
                                slidesToScroll: 1,
                                infinite: true,

                            }
                        }, {
                            breakpoint: 767,
                            settings: {
                                slidesToShow: 3,
                                slidesToScroll: 1,
                                infinite: true,

                            }
                        }, {
                            breakpoint: 575,
                            settings: {
                                slidesToShow: 2,
                                slidesToScroll: 1,
                                infinite: true,

                            }
                        }, {
                            breakpoint: 400,
                            settings: {
                                slidesToShow: 2,
                                slidesToScroll: 1,
                                infinite: true,

                            }
                        },
                        // You can unslick at a given breakpoint now by adding:
                        // settings: "unslick"
                        // instead of a settings object
                    ]
                }
            }
        },
        methods: {
            getProducts() {
                this.$repositories.product.featured().then(res => {
                    this.products = res.data
                }).catch(error => {
                    console.log('Products Error =>', error);
                })
            },
            featuredVariationImage(product) {
                return product.variations.find(x => x.featured == true).image
            }
        }
    });

</script>
